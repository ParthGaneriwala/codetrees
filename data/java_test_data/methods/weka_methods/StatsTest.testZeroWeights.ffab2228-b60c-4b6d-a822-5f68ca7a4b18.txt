public void testZeroWeights() {
    String descr = "Ignoring 0 weights";
    Stats reference = getStats();
    Stats test = getStats();
    addWeightedStats(test, 1.0, 0.0, 2.0, 0.0, 3.0, 0.0, -10.0, 0.0, 10.0, 0.0);
    checkStatsInitialized(test);
    checkStats(test, descr, reference, 0.0);
    reference.calculateDerived();
    test.calculateDerived();
    checkStats(test, descr, reference, 0.0);
    addWeightedStats(reference, weightedValues1);
    addWeightedStats(test, weightedValues1);
    addWeightedStats(test, 1.0, 0.0, 2.0, 0.0, 3.0, 0.0, -10.0, 0.0, 10.0, 0.0);
    checkStats(test, descr, reference, 0.0);
    reference.calculateDerived();
    test.calculateDerived();
    checkStats(test, descr, reference, 0.0);
    addWeightedStats(reference, weightedValues2);
    addWeightedStats(test, weightedValues2);
    subtractWeightedStats(test, Double.MAX_VALUE, 0.0, Double.MAX_VALUE, -0.0, -Double.MAX_VALUE, 0.0, -Double.MAX_VALUE, -0.0, Double.MIN_VALUE, 0.0, Double.MIN_VALUE, -0.0, -Double.MIN_VALUE, 0.0, -Double.MIN_VALUE, -0.0);
    checkStats(test, descr, reference, 0.0);
    reference.calculateDerived();
    test.calculateDerived();
    checkStats(test, descr, reference, 0.0);
    subtractWeightedStats(reference, weightedValues1);
    subtractWeightedStats(test, weightedValues1);
    subtractWeightedStats(test, 0.0, 0.0, -0.0, -0.0, 1e20, -0.0, 30, -0.0);
    checkStats(test, descr, reference, 0.0);
    reference.calculateDerived();
    test.calculateDerived();
    checkStats(test, descr, reference, 0.0);
    addWeightedStats(reference, smallWeightedValues);
    addWeightedStats(test, smallWeightedValues);
    addWeightedStats(test, Double.MAX_VALUE, 0.0, Double.MAX_VALUE, -0.0, -Double.MAX_VALUE, 0.0, -Double.MAX_VALUE, -0.0, Double.MIN_VALUE, 0.0, Double.MIN_VALUE, -0.0, -Double.MIN_VALUE, 0.0, -Double.MIN_VALUE, -0.0);
    checkStats(test, descr, reference, 0.0);
    reference.calculateDerived();
    test.calculateDerived();
    checkStats(test, descr, reference, 0.0);
    addWeightedStats(reference, bigWeightedValues);
    addWeightedStats(test, bigWeightedValues);
    addWeightedStats(test, 0.0, 0.0, 0.0, -0.0, -0.0, 0.0, -0.0, -0.0, 20, 0.0, 20, -0.0);
    checkStats(test, descr, reference, 0.0);
    reference.calculateDerived();
    test.calculateDerived();
    checkStats(test, descr, reference, 0.0);
}
