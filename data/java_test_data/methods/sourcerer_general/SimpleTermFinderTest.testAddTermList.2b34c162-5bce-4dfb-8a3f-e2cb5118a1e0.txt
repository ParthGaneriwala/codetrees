@Test
public void testAddTermList() throws IOException {
    TermList usStatesList = TermList.loadSimpleFile("US States", new File("src/test/resources/data/term/termlist/US_States.txt"));
    SimpleTermFinder termFinder = new SimpleTermFinder();
    termFinder.addTermList(usStatesList);
    SimpleTermFinder.Node topNode = termFinder.topNode;
    assertEquals(54, termFinder.topNode.children.size());
    assertNull(topNode.entries);
    Token alabamaToken = new Token(0, 7, "Alabama");
    assertTrue(topNode.containsChild(alabamaToken));
    SimpleTermFinder.Node alabamaNode = topNode.getChild(alabamaToken);
    assertNull(alabamaNode.children);
    Term alabamaTerm = alabamaNode.entries.get(0);
    assertEquals("1", alabamaTerm.getId());
    assertEquals("Alabama", alabamaTerm.getTermText());
    Token newToken = new Token(0, 3, "New");
    assertTrue(topNode.containsChild(newToken));
    SimpleTermFinder.Node newNode = topNode.getChild(newToken);
    assertEquals(4, newNode.children.size());
    assertTrue(newNode.containsChild(new Token(4, 13, "Hampshire")));
    assertTrue(newNode.containsChild(new Token(4, 10, "Mexico")));
    assertTrue(newNode.containsChild(new Token(4, 8, "York")));
    Token jerseyToken = new Token(4, 10, "Jersey");
    assertTrue(newNode.containsChild(jerseyToken));
    SimpleTermFinder.Node jerseyNode = newNode.getChild(jerseyToken);
    Term newJerseyTerm = jerseyNode.entries.get(0);
    assertEquals("35", newJerseyTerm.getId());
    assertEquals("New Jersey", newJerseyTerm.getTermText());
    assertEquals("US States", newJerseyTerm.getTermList().getName());
    SimpleTermFinder.Node minnesotaNode = topNode.getChild(new Token(0, 9, "Minnesota"));
    assertNull(minnesotaNode.children);
    Term minnesotaTerm = minnesotaNode.entries.get(0);
    assertEquals("28", minnesotaTerm.getId());
    assertEquals("Minnesota", minnesotaTerm.getTermText());
    assertEquals("US States", minnesotaTerm.getTermList().getName());
    TermList nstatesList = TermList.loadSimpleFile("N States", new File("src/test/resources/data/term/termlist/N_States.txt"));
    termFinder.addTermList(nstatesList);
    assertEquals(54, termFinder.topNode.children.size());
    assertNull(topNode.entries);
    assertTrue(topNode.containsChild(alabamaToken));
    alabamaNode = topNode.getChild(alabamaToken);
    assertNull(alabamaNode.children);
    alabamaTerm = alabamaNode.entries.get(0);
    assertEquals("1", alabamaTerm.getId());
    assertEquals("Alabama", alabamaTerm.getTermText());
    assertEquals("US States", alabamaTerm.getTermList().getName());
    assertTrue(topNode.containsChild(newToken));
    newNode = topNode.getChild(newToken);
    assertEquals(4, newNode.children.size());
    assertTrue(newNode.containsChild(new Token(4, 13, "Hampshire")));
    assertTrue(newNode.containsChild(new Token(4, 10, "Mexico")));
    assertTrue(newNode.containsChild(new Token(4, 8, "York")));
    assertTrue(newNode.containsChild(jerseyToken));
    jerseyNode = newNode.getChild(jerseyToken);
    newJerseyTerm = jerseyNode.entries.get(0);
    assertEquals("35", newJerseyTerm.getId());
    assertEquals("New Jersey", newJerseyTerm.getTermText());
    assertEquals("US States", newJerseyTerm.getTermList().getName());
    Term newJerseyTerm2 = jerseyNode.entries.get(1);
    assertEquals("4", newJerseyTerm2.getId());
    assertEquals("New Jersey", newJerseyTerm2.getTermText());
    assertEquals("N States", newJerseyTerm2.getTermList().getName());
    Term newJerseyTerm3 = jerseyNode.entries.get(2);
    assertEquals("10", newJerseyTerm3.getId());
    assertEquals("New Jersey", newJerseyTerm3.getTermText());
    assertEquals("N States", newJerseyTerm3.getTermList().getName());
    SimpleTermFinder.Node nevadaNode = topNode.getChild(new Token(0, 6, "Nevada"));
    assertNull(nevadaNode.children);
    Term nevadaTerm1 = nevadaNode.entries.get(0);
    assertEquals("33", nevadaTerm1.getId());
    assertEquals("Nevada", nevadaTerm1.getTermText());
    assertEquals("US States", nevadaTerm1.getTermList().getName());
    Term nevadaTerm2 = nevadaNode.entries.get(1);
    assertEquals("2", nevadaTerm2.getId());
    assertEquals("Nevada", nevadaTerm2.getTermText());
    assertEquals("N States", nevadaTerm2.getTermList().getName());
}
