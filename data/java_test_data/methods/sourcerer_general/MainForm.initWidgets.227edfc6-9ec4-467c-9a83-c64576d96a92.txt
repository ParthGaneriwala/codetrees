private void initWidgets() {
    Constraint c = new Constraint();
    MenuBar mbEntry = new MenuBar(true);
    mbEntry.addItem(new ImageMenuItem(IMAGES.save(), "Lưu", actSave));
    mbEntry.addItem(new ImageMenuItem(IMAGES.refresh(), "Nạp lại", actReload));
    mbEntry.addItem(new ImageMenuItem(IMAGES.exit(), "Thoát", actExit));
    menubar.addItem("Mục từ", mbEntry);
    MenuBar mbView = new MenuBar(true);
    mbView.addItem(new ImageMenuItem(IMAGES.togglePalette(), "Ẩn/Hiện palette", actTogglePalette));
    mbView.addSeparator();
    mbView.addItem(new ImageMenuItem(IMAGES.wysiwyg(), "Soạn trực quan", actSwitchWysiwyg));
    mbView.addItem(new ImageMenuItem(IMAGES.wikitext(), "Soạn mã Wikitext", actSwitchWikitext));
    mbView.addItem(new ImageMenuItem(IMAGES.xml(), "Xem mã XML", actSwitchXml));
    menubar.addItem("Hiển thị", mbView);
    MenuBar mbEdit = new MenuBar(true);
    MenuBar mbInsert = new MenuBar(true);
    mbInsert.addItem("Ngôn ngữ", actInsertLanguage);
    mbInsert.addItem("Từ loại", actInsertPos);
    mbInsert.addItem("Định nghĩa", actInsertDefinition);
    mbInsert.addItem("Ngữ cảnh", actInsertContext);
    mbInsert.addItem("Ví dụ", actInsertExample);
    mbInsert.addItem("Giải nghĩa", actInsertExplain);
    mbInsert.addItem("Danh sách con", actInsertSublist);
    mbInsert.addItem("LK liên wiki", actInsertInterwikiLink);
    mbInsert.addItem("Thể loại", actInsertCategory);
    mbEdit.addItem(new ImageMenuItem(IMAGES.add(), "Thêm mới", mbInsert));
    mbEdit.addItem(new ImageMenuItem(IMAGES.edit(), "Chỉnh sửa", actEdit));
    mbEdit.addItem(new ImageMenuItem(IMAGES.remove(), "Xoá", actRemove));
    mbEdit.addSeparator();
    mbEdit.addItem(new ImageMenuItem(IMAGES.undo(), "Huỷ thao tác", actUndo));
    mbEdit.addItem(new ImageMenuItem(IMAGES.redo(), "Thực hiện lại", actRedo));
    menubar.addItem("Soạn thảo", mbEdit);
    MenuBar mbFormating = new MenuBar(true);
    mbFormating.addItem(new ImageMenuItem(IMAGES.bold(), "Đậm", actBold));
    mbFormating.addItem(new ImageMenuItem(IMAGES.italic(), "Nghiêng", actItalic));
    mbFormating.addItem(new ImageMenuItem(IMAGES.internalLink(), "Lkết trong", actInternalLink));
    mbFormating.addItem(new ImageMenuItem(IMAGES.externalLink(), "Lkết ngoài", actExternalLink));
    menubar.addItem("Định dạng", mbFormating);
    menubar.addItem(new ImageMenuItem(IMAGES.help(), "Trợ giúp", actHelp));
    c.height = 35;
    c.direction = DockPanel.NORTH;
    this.add(menubar, c);
    palette.setSupressRefresh(true);
    palette.addItem("Ngôn ngữ", actInsertLanguage);
    palette.addItem("Từ loại", actInsertPos);
    palette.addItem("Định nghĩa", actInsertDefinition);
    palette.addItem("Ngữ cảnh", actInsertContext);
    palette.addItem("Ví dụ", actInsertExample);
    palette.addItem("Giải nghĩa", actInsertExplain);
    palette.addItem("Danh sách con", actInsertSublist);
    palette.addItem("LK liên wiki", actInsertInterwikiLink);
    palette.addItem("Thể loại", actInsertCategory);
    palette.setSupressRefresh(false);
    c.width = 150;
    c.direction = DockPanel.EAST;
    this.add(palette, c);
    pnlWysiwyg.setWidth("100%");
    DOM.setStyleAttribute(pnlWysiwyg.getElement(), "position", "relative");
    DOM.setStyleAttribute(pnlWysiwyg.getElement(), "overflow", "auto");
    entry.addChangeListener(this);
    entry.addUndoableEditListener(this);
    pnlWysiwyg.setWidget(entry);
    txtWiktext.setWidth("100%");
    TextEditorController.getInstance().registerText(txtWiktext);
    TextEditorController.getInstance().addChangeListener(this);
    onChanged(TextEditorController.getInstance());
    txtXml.setWidth("100%");
    txtXml.setReadOnly(true);
    c.width = 400;
    c.height = 350;
    c.direction = DockPanel.CENTER;
    this.add(deck, c);
}
