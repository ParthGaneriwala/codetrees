public void start(BundleContext context) throws Exception {
    routeMessageParserServiceTracker = new RouteMessageParserServiceTracker(context);
    routeMessageParserServiceTracker.open();
    loggerServiceTracker = new LoggerServiceTracker(context);
    loggerServiceTracker.open();
    pubSubNodeDbHelperTracker = new PubSubNodeDbHelperTracker(context);
    pubSubNodeDbHelperTracker.open();
    pubSubItemDbHelperTracker = new PubSubItemDbHelperTracker(context);
    pubSubItemDbHelperTracker.open();
    pubSubSubscriptionDbHelperTracker = new PubSubSubscriptionDbHelperTracker(context);
    pubSubSubscriptionDbHelperTracker.open();
    pubSubAffiliationDbHelperTracker = new PubSubAffiliationDbHelperTracker(context);
    pubSubAffiliationDbHelperTracker.open();
    pubSubNodeConfigDbHelperTracker = new PubSubNodeConfigDbHelperTracker(context);
    pubSubNodeConfigDbHelperTracker.open();
    accessModelTracker = new AccessModelTracker(context);
    accessModelTracker.open();
    publisherModelTracker = new PublisherModelTracker(context);
    publisherModelTracker.open();
    lastPublishTimeDbHelperTracker = new LastPublishTimeDbHelperTracker(context);
    lastPublishTimeDbHelperTracker.open();
    PubSubManagerImpl pubSubManager = new PubSubManagerImpl(loggerServiceTracker, routeMessageParserServiceTracker, pubSubNodeDbHelperTracker, pubSubItemDbHelperTracker, pubSubSubscriptionDbHelperTracker, pubSubAffiliationDbHelperTracker, pubSubNodeConfigDbHelperTracker, accessModelTracker, publisherModelTracker, lastPublishTimeDbHelperTracker);
    String appPath = System.getProperty("appPath");
    XMLConfiguration config = new XMLConfiguration(appPath + "/pusubconfig.xml");
    String domain = config.getString("domain", "example.com");
    pubSubManager.setDomain(domain);
    String subDomain = config.getString("sub-domain", "pubsub.example.com");
    pubSubManager.setSubDomain(subDomain);
    String serviceId = config.getString("service-id");
    pubSubManager.setServiceId(serviceId);
    String routerIp = config.getString("router-ip", "localhost");
    pubSubManager.setRouterIp(routerIp);
    String routerPassword = config.getString("router-password", "md5password");
    pubSubManager.setRouterPassword(routerPassword);
    int routerPort = config.getInt("router-port", 8789);
    pubSubManager.setRouterPort(routerPort);
    int maxItems = config.getInt("max-items", 10);
    pubSubManager.setMaxItems(maxItems);
    int sendSleep = config.getInt("send-sleep", 5000);
    pubSubManager.setSendSleep(sendSleep);
    pubSubManager.start();
    pubSubManagerRegistration = context.registerService(PubSubManager.class.getName(), pubSubManager, null);
}
