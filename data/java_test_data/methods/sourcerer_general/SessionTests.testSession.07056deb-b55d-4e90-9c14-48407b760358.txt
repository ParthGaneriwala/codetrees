public final void testSession() {
    assertTrue(!Session.hasRole(Roles.ADMINISTRATOR));
    assertTrue(!Session.hasRole(Roles.DEVELOPMENT_MANAGER));
    assertTrue(!Session.hasRole(Roles.DEVELOPER));
    assertTrue(!Session.hasRole(Roles.TEST_MANAGER));
    assertTrue(!Session.hasRole(Roles.TESTER));
    assertTrue(!Session.isUserLoggedIn());
    assertTrue(Session.getUser().isNullUser());
    User user = new User("testUser", "testUser");
    user.setRole(Roles.ADMINISTRATOR);
    Session.beginSession(user);
    assertTrue(Session.isUserLoggedIn());
    assertTrue(!Session.getUser().isNullUser());
    // only Administrator should be set
    assertTrue(Session.hasRole(Roles.ADMINISTRATOR));
    assertTrue(!Session.hasRole(Roles.DEVELOPMENT_MANAGER));
    assertTrue(!Session.hasRole(Roles.DEVELOPER));
    assertTrue(!Session.hasRole(Roles.TEST_MANAGER));
    assertTrue(!Session.hasRole(Roles.TESTER));
    // only Administrator should be set, even after changing the User's roles
    user.setRole(Roles.DEVELOPER);
    assertTrue(Session.hasRole(Roles.ADMINISTRATOR));
    assertTrue(!Session.hasRole(Roles.DEVELOPMENT_MANAGER));
    assertTrue(!Session.hasRole(Roles.DEVELOPER));
    assertTrue(!Session.hasRole(Roles.TEST_MANAGER));
    assertTrue(!Session.hasRole(Roles.TESTER));
    Session.endSession();
    assertTrue(!Session.hasRole(Roles.ADMINISTRATOR));
    assertTrue(!Session.hasRole(Roles.DEVELOPMENT_MANAGER));
    assertTrue(!Session.hasRole(Roles.DEVELOPER));
    assertTrue(!Session.hasRole(Roles.TEST_MANAGER));
    assertTrue(!Session.hasRole(Roles.TESTER));
    assertTrue(!Session.isUserLoggedIn());
    assertTrue(Session.getUser().isNullUser());
    user.setRole(Roles.DEVELOPMENT_MANAGER);
    user.setRole(Roles.TEST_MANAGER);
    user.setRole(Roles.TESTER);
    Session.beginSession(user);
    assertTrue(Session.hasRole(Roles.ADMINISTRATOR));
    assertTrue(Session.hasRole(Roles.DEVELOPMENT_MANAGER));
    assertTrue(Session.hasRole(Roles.DEVELOPER));
    assertTrue(Session.hasRole(Roles.TEST_MANAGER));
    assertTrue(Session.hasRole(Roles.TESTER));
    assertTrue(Session.isUserLoggedIn());
    assertTrue(!Session.getUser().isNullUser());
    // even after removing a User's roles, the Session should still have them
    user.clearRole(Roles.ADMINISTRATOR);
    user.clearRole(Roles.TEST_MANAGER);
    user.clearRole(Roles.TESTER);
    user.clearRole(Roles.DEVELOPER);
    user.clearRole(Roles.DEVELOPMENT_MANAGER);
    assertTrue(Session.hasRole(Roles.ADMINISTRATOR));
    assertTrue(Session.hasRole(Roles.DEVELOPMENT_MANAGER));
    assertTrue(Session.hasRole(Roles.DEVELOPER));
    assertTrue(Session.hasRole(Roles.TEST_MANAGER));
    assertTrue(Session.hasRole(Roles.TESTER));
    Session.endSession();
    assertTrue(!Session.hasRole(Roles.ADMINISTRATOR));
    assertTrue(!Session.hasRole(Roles.DEVELOPMENT_MANAGER));
    assertTrue(!Session.hasRole(Roles.DEVELOPER));
    assertTrue(!Session.hasRole(Roles.TEST_MANAGER));
    assertTrue(!Session.hasRole(Roles.TESTER));
    assertTrue(!Session.isUserLoggedIn());
    assertTrue(Session.getUser().isNullUser());
}
