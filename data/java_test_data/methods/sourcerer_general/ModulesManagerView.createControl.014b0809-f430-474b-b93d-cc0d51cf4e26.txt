@Override
protected JComponent createControl() {
    JPanel view = new JPanel(new GridBagLayout());
    GridBagConstraints c = new GridBagConstraints();
    c.fill = GridBagConstraints.BOTH;
    c.weightx = 0.5;
    c.weighty = 0.5;
    c.gridx = 0;
    c.gridy = 0;
    c.gridheight = 1;
    c.gridwidth = 1;
    JXTable listTable = tableFactory.getElementTable(equipmentTableModel);
    JXTable historyTable = tableFactory.getTable(historyTableModel);
    JTree typesTree = new JTree(typeTreeModel);
    typesTree.setCellRenderer(new EquipmentTreeCellRenderer(getIconSource()));
    typesTree.setRootVisible(false);
    typesTree.setShowsRootHandles(true);
    typesTree.addTreeSelectionListener(typeTreeModel);
    typeTreeModel.addElementTypeSelectionListener(equipmentTableModel);
    equipmentTableModel.addPhysicalElementSelectionListener(historyTableModel);
    equipmentTableModel.addPhysicalElementSelectionListener(addEventExecutor);
    historyTableModel.addEventModifiactionListener(reloadEventsCommandExecutor);
    JTable search = new JTable(searchTableModel);
    searchTableModel.addTableModelListener(search);
    equipmentTableModel.addColumnModelListener(searchTableModel);
    searchTableModel.addSearchFilterListener(equipmentTableModel);
    equipmentTableModel.recreateColumnModel();
    equipmentTableModel.addTableModelListener(listTable);
    JScrollPane typesTreeScrPane = new JScrollPane(typesTree);
    JScrollPane historyScrPane = new JScrollPane(historyTable);
    JScrollPane listScrPane = new JScrollPane(listTable);
    search.setTableHeader(null);
    JSplitPane jsp = new JSplitPane(JSplitPane.VERTICAL_SPLIT, search, listScrPane);
    jsp.setEnabled(false);
    // JSplitPane connectionSplitPane = new JSplitPane(JSplitPane.HORIZONTAL_SPLIT, inputConnectionsScrPane, outputConnectionsScrPane);
    // JSplitPane verticalDownSplitPane = new JSplitPane(JSplitPane.VERTICAL_SPLIT, connectionSplitPane, historyScrPane);
    JSplitPane verticalSplitPane = new JSplitPane(JSplitPane.VERTICAL_SPLIT, jsp, historyScrPane);
    JSplitPane horizontalSplitPane = new JSplitPane(JSplitPane.HORIZONTAL_SPLIT, typesTreeScrPane, verticalSplitPane);
    verticalSplitPane.setDividerLocation(250);
    // verticalDownSplitPane.setDividerLocation(250);
    horizontalSplitPane.setDividerLocation(250);
    view.add(horizontalSplitPane, c);
    // equipmentTableModel.addActiveModelListener(saveModelCommandExecutor);
    // equipmentTableModel.addModelModificationListener(saveModelCommandExecutor);
    historyTableModel.addActiveModelListener(saveModelCommandExecutor);
    historyTableModel.addModelModificationListener(saveModelCommandExecutor);
    historyTableModel.addActiveModelListener(addNewCommandExecutor);
    historyTable.addFocusListener(historyTableModel);
    listTable.addFocusListener(equipmentTableModel);
    return view;
}
