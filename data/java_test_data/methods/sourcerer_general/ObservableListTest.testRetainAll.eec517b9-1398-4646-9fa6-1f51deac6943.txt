public void testRetainAll() {
    ArrayList<String> list1 = new ArrayList<String>();
    list1.add("a");
    list1.add("b");
    ObservableList<String> olist = new ObservableList<String>(list1);
    OLListener l = new OLListener();
    olist.addPropertyChangeListener(l);
    assertEquals(0, l.count);
    assertNull(l.lastEvent);
    olist.add("c");
    olist.add("d");
    assertEquals(4, olist.size());
    assertEquals(4, list1.size());
    ArrayList<String> list2 = new ArrayList<String>();
    list2.add("b");
    list2.add("c");
    list2.add("z");
    boolean result = olist.retainAll(list2);
    assertEquals(3, l.count);
    assertEquals(-1, l.lastEvent.getStartIndex());
    assertEquals(-1, l.lastEvent.getEndIndex());
    assertEquals(EventType.DELETE, l.lastEvent.getEventType());
    assertEquals(null, l.lastEvent.getNewValue());
    assertEquals(null, l.lastEvent.getOldValue());
    assertTrue(result);
    assertTrue(olist == l.lastEvent.getSource());
    assertEquals(2, olist.size());
    assertEquals(2, list1.size());
    assertEquals("b", olist.get(0));
    assertEquals("c", olist.get(1));
}
