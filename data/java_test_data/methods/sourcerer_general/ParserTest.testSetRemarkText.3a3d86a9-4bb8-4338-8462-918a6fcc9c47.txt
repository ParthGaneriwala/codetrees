public void testSetRemarkText() throws Exception {
    String text;
    String remark;
    String html;
    String newtext;
    String newremark;
    String newhtml;
    Node rem;
    text = " This is a remark. ";
    remark = "<!--" + text + "-->";
    html = "<body>" + remark + "</body>";
    newtext = " This is a different remark. ";
    newremark = "<!--" + newtext + "-->";
    newhtml = "<body>" + newremark + "</body>";
    createParser(html);
    parseAndAssertNodeCount(1);
    assertStringEquals("html wrong", html, node[0].toHtml());
    assertTrue("wrong number of children", 1 == node[0].getChildren().size());
    assertTrue("remark node expected", node[0].getChildren().elementAt(0) instanceof Remark);
    rem = node[0].getChildren().elementAt(0);
    assertStringEquals("remark html wrong", remark, rem.toHtml());
    assertStringEquals("remark contents wrong", text, rem.getText());
    assertTrue("toString wrong", rem.toString().endsWith(text));
    rem.setText(newtext);
    assertStringEquals("html wrong", newhtml, node[0].toHtml());
    assertStringEquals("new remark html wrong", newremark, rem.toHtml());
    assertStringEquals("new remark contents wrong", newtext, rem.getText());
    assertTrue("toString wrong", rem.toString().endsWith(newtext));
    rem.setText(newremark);
    assertStringEquals("html wrong", newhtml, node[0].toHtml());
    assertStringEquals("new remark html wrong", newremark, rem.toHtml());
    assertStringEquals("new remark contents wrong", newtext, rem.getText());
    assertTrue("toString wrong", rem.toString().endsWith(newtext));
}
