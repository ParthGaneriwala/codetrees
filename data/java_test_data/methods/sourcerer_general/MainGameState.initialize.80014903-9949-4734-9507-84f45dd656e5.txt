@Override
public void initialize() {
    super.initialize();
    p = new WavPlayer2();
    aMapBackground = new BackGround(Application.aMapBackground);
    aBackground = new Panel(new Coordinate(UIStartX, 0), new Coordinate(Application.WIN_SIZE_X - UIStartX, Application.WIN_SIZE_Y));
    aBackground.setBgColor(Application.aTeamColor[aMap.getLocalPlayer().getID()]);
    aBackground.setBorderSize(0);
    Coordinate bSize = new Coordinate(((Application.WIN_SIZE_X - UIStartX) - 3 * spacing) / 2, 0);
    Coordinate longSize = new Coordinate((Application.WIN_SIZE_X - UIStartX) - 2 * spacing, 0);
    aChatBox = new ChatBox(new Coordinate(UIStartX + spacing, 620), 24, 4, aMap.getLocalPlayer().getID(), aMap.getLocalPlayer().getName());
    aInfo = new ShipInfo(new Coordinate(UIStartX + spacing, 200), new Coordinate((Application.WIN_SIZE_X - UIStartX) - 2 * spacing, 120));
    aShipSelector = new ShipSelector(new Coordinate(UIStartX + spacing, 50), 5, 3, aMap.getLocalPlayer().getID());
    aShipSelector.setShipInfo(aInfo);
    aShipSelector.setSize(new Coordinate(Application.WIN_SIZE_X - UIStartX - 2 * spacing, 140));
    setUpShipSelector();
    aFireButton = new BGGraphicalButton("Attack", new Coordinate(UIStartX + spacing, 540), bSize);
    aMoveButton = new BGGraphicalButton("Move", new Coordinate(UIStartX + bSize.getX() + 2 * spacing, 540), bSize);
    aFireButton.setBgColor(Application.GUIColor);
    aMoveButton.setBgColor(Application.GUIColor);
    aActionGroup = new ButtonGroup();
    miniMap = new MiniMap(new Coordinate(spacing, Application.WIN_SIZE_Y - spacing - 100), aMap);
    aMap.switchFogOverlay();
    Application.aData = new GameData();
    Application.aData.playerName = aMap.getLocalPlayer().getName();
    Application.aData.numberUnits = aMap.getLocalPlayer().getShips(true, true).length;
    aWeaponPanel = new WeaponFireManager(new Coordinate(UIStartX + spacing, 330), new Coordinate(236, 204));
    aToDraw.add(aMapBackground);
    aToDraw.add(aMap);
    aToDraw.add(aBackground);
    aToDraw.add(aChatBox);
    aToDraw.add(aShipSelector);
    aToDraw.add(miniMap);
    aToDraw.add(aInfo);
    aToDraw.add(aWeaponPanel);
    aActionGroup.add(aFireButton);
    aActionGroup.add(aMoveButton);
    aButtonGroups.add(aActionGroup);
    aMoveButton.setPressed(true);
    aFireButton.setBgColorPress(MinuetoColor.GREEN);
    aFireButton.setBgColor(Application.GUIColor);
    aMoveButton.setBgColorPress(MinuetoColor.GREEN);
    aMoveButton.setBgColor(Application.GUIColor);
    int miniSpace = 4;
    aMusicButton = new BGGraphicalButton("Music On", new Coordinate(UIStartX + spacing, spacing));
    aNextSongButton = new GraphicalButton("Next Song", new Coordinate(UIStartX + aMusicButton.getSize().getX() + spacing + miniSpace, spacing));
    aSoundButton = new BGGraphicalButton("Sound On", new Coordinate(UIStartX + spacing + 2 * miniSpace + aMusicButton.getSize().getX() + aNextSongButton.getSize().getX(), spacing));
    aMusicButton.setPressed(true);
    aSoundButton.setPressed(true);
    aMusicButton.clearPressEvent();
    aSoundButton.clearPressEvent();
    MinuetoColor pressColor = new MinuetoColor(0, 200, 0);
    MinuetoColor unPressColor = new MinuetoColor(200, 0, 0);
    aMusicButton.setBgColorPress(pressColor);
    aSoundButton.setBgColorPress(pressColor);
    aMusicButton.setBgColor(unPressColor);
    aSoundButton.setBgColor(unPressColor);
    aNextSongButton.setBgColor(new MinuetoColor(255, 215, 0));
    aNextSongButton.setBgColorPress(unPressColor);
    addToggleButton(aMusicButton);
    addToggleButton(aSoundButton);
    addButton(aNextSongButton);
    Application.aMainPlayer.stopMusic();
    Application.aMainPlayer.setSong(3);
    Application.aMainPlayer.playMusic();
    Application.aClock.addObject(Application.aMainPlayer);
    Application.aClock250.start();
    Application.aClock250.setRunning(true);
    if (!Application.aClock.isRunning()) {
        Application.aClock.start();
        Application.aClock.setRunning(true);
    }
    aMap.updateFogOverlay();
    selectShip(aShipSelector.getSelected());
    aToDraw.add(aMusicButton);
    aToDraw.add(aSoundButton);
    aToDraw.add(aNextSongButton);
// winCheck();
}
