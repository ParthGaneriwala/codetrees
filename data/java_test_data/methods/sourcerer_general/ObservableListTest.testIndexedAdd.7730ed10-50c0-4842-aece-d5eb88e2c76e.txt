public void testIndexedAdd() {
    ObservableList<String> olist = new ObservableList<String>(new ArrayList<String>());
    OLListener l = new OLListener();
    olist.addPropertyChangeListener(l);
    assertEquals(0, l.count);
    assertNull(l.lastEvent);
    olist.add(0, "a");
    assertEquals(1, l.count);
    assertEquals(0, l.lastEvent.getStartIndex());
    assertEquals(0, l.lastEvent.getEndIndex());
    assertEquals(EventType.INSERT, l.lastEvent.getEventType());
    assertEquals("a", l.lastEvent.getNewValue());
    assertEquals(null, l.lastEvent.getOldValue());
    assertTrue(olist == l.lastEvent.getSource());
    olist.add(0, "b");
    assertEquals(2, l.count);
    assertEquals(0, l.lastEvent.getStartIndex());
    assertEquals(0, l.lastEvent.getEndIndex());
    assertEquals(EventType.INSERT, l.lastEvent.getEventType());
    assertEquals("b", l.lastEvent.getNewValue());
    assertEquals(null, l.lastEvent.getOldValue());
    assertTrue(olist == l.lastEvent.getSource());
    olist.add(2, "c");
    assertEquals(3, l.count);
    assertEquals(2, l.lastEvent.getStartIndex());
    assertEquals(2, l.lastEvent.getEndIndex());
    assertEquals(EventType.INSERT, l.lastEvent.getEventType());
    assertEquals("c", l.lastEvent.getNewValue());
    assertEquals(null, l.lastEvent.getOldValue());
    assertTrue(olist == l.lastEvent.getSource());
    olist.add(1, "d");
    assertEquals(4, l.count);
    assertEquals(1, l.lastEvent.getStartIndex());
    assertEquals(1, l.lastEvent.getEndIndex());
    assertEquals(EventType.INSERT, l.lastEvent.getEventType());
    assertEquals("d", l.lastEvent.getNewValue());
    assertEquals(null, l.lastEvent.getOldValue());
    assertTrue(olist == l.lastEvent.getSource());
    assertEquals("b", olist.get(0));
    assertEquals("d", olist.get(1));
    assertEquals("a", olist.get(2));
    assertEquals("c", olist.get(3));
}
